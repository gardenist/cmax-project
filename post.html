<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./js/data.js"></script>
    <script src="./js/json-local-storage.js"></script>
    <script src="./js/user-service.js"></script>
    <script src="./js/post-service.js"></script>
</head>
<body>
    <!-- 선택한 글의 내용을 보여주는 페이지 -->
    <!-- 글의 제목 보여주기 -->
    <h1 id="title">제목</h1>

    <!-- 작성자 이름 -->
    <h2 id="username">작성자이름</h2>

    <p>작성 일시: <span id="createdAt">2019년-블라블라</span></p>

    <!-- 내용 -->
    <p id="content">내용</p>

    <script>
        // url 가져오기
        let url = new URL(location.href);

        // naver.com/search?id=1
        // id 가져오기
        let id = url.searchParams.get('id');
        // TODO id queryString이 없는 경우 처리 - 예외처리

        // postService로부터 'posts.1' 형식의 키로 post 가져오기
        let postService = new PostService();

        let post = postService.read(id); // post { id:..., title, content }
        // TODO id로 post를 찾았지만 저장되어 있지 않은 경우 ?id=1000

        // title 엘리먼트에 post.title 값으로 채우기
        // 작성자, 작성시각
        // content 엘리먼트

        document.querySelector('#title').innerText = post.title;
        document.querySelector('#username').innerText = post.username;
        document.querySelector('#createdAt').innerText = post.createdAt;
        document.querySelector('#content').innerText = post.content;

    </script>
</body>
</html>